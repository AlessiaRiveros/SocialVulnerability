import os
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

pdir = r'p:\11209200-020-sociale-kwetsbaarheid\Data\FIAT\EW'

df = pd.read_csv(os.path.join(pdir, 'AZONE_T10_med_EW_residential.csv'), usecols=['IDazone', 'TD_E', 'EW_TD_E'], nrows=40)

# df.index = df['IDazone']
# df = df.drop(columns='IDazone')

df = df.dropna(subset=['TD_E', 'EW_TD_E'])
# two columns of interest: TD_E and the EW_TD_E
df['rank_TD_E'] = df['TD_E'].rank(ascending=False).astype(int)
df['rank_EW_TD_E'] = df['EW_TD_E'].rank(ascending=False).astype(int)
df.index = df['IDazone']
df = df[['rank_TD_E', 'rank_EW_TD_E']]

fig, ax = plt.subplots(1, figsize=(5, 17))
sns.heatmap(df, ax=ax, annot=True)
plt.show()